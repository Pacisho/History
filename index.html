<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>หน้าหลัก</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #e8f0fe;
    }

    header {
      background-color: #1565c0;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
    }

    nav {
      display: flex;
      align-items: center;
    }

    nav button {
      background: transparent;
      border: none;
      color: white;
      font-size: 16px;
      margin-left: 15px;
      cursor: pointer;
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: white;
      color: #1565c0;
      min-width: 150px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.2);
      border-radius: 5px;
      top: 40px;
    }

    .dropdown-content a {
      color: #1565c0;
      padding: 10px 15px;
      text-decoration: none;
      display: block;
    }

    .dropdown-content a:hover {
      background-color: #e3f2fd;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .profile-icon {
      position: relative;
    }

    .profile-dropdown {
      display: none;
      position: absolute;
      background-color: white;
      color: #1565c0;
      top: 50px;
      left: 0;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      border-radius: 8px;
      z-index: 10;
    }

    .profile-dropdown button {
      background: none;
      border: none;
      padding: 10px 20px;
      width: 100%;
      text-align: left;
      cursor: pointer;
      color: #1565c0;
    }

    .profile-dropdown button:hover {
      background-color: #e3f2fd;
    }

    .main-container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      padding: 30px;
    }

    .profile-pic {
      width: 250px;
      height: 250px;
      border-radius: 50%;
      overflow: hidden;
      margin: 20px;
      border: 5px solid #1565c0;
    }

    .profile-pic img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .profile-details {
      background-color: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      max-width: 500px;
      margin: 20px;
    }
  </style>
</head>
<body>

  <header>
    <div class="profile-icon">
      <img id="profileIcon" src="images/user.png" alt="profile" style="width:40px;height:40px;border-radius:50%;cursor:pointer;display:none;">
      <div class="profile-dropdown" id="profileMenu">
        <button id="showProfile">ดูโปรไฟล์</button>
        <button id="uploadPicBtn">เพิ่มรูปโปรไฟล์</button>
        <button id="logout">ออกจากระบบ</button>
        <input type="file" id="uploadInput" accept="image/*" style="display:none;">
      </div>
    </div>

    <nav>
      <a href="index.html"><button>หน้าหลัก</button></a>
      <div class="dropdown">
        <button>การแนะนำ</button>
        <div class="dropdown-content">
          <a href="Kiw.html">Kiw</a>
          <a href="TanKhun.html">TanKhun</a>
          <a href="Poongod.html">Poongod</a>
        </div>
      </div>
      <a href="login.html"><button id="loginBtn">เข้าสู่ระบบ</button></a>
      <a href="about.html"><button>เกี่ยวกับเรา</button></a>
    </nav>
  </header>

  <center><div class="main-container">
    <div class="profile-pic">
      <img src="images/1746286139434.jpg" alt="Kiw">
    </div>
    <div class="profile-details">
      <h2><a href="Kiw.html" style="color: #1565c0; text-decoration: none;">นายศุภศรณ์ บุญประคม (Kiw)</a></h2>
      <p>ชื่อเล่น คิว อายุ 13 ปี<br>โรงเรียนศรีบุญเรื่องวิทยาคาร<br>... (ฯลฯ)</p>
    </div>
  </div></center>

  <center><div class="main-container">
    <div class="profile-pic">
      <img src="images/FB_IMG_1748013245315.jpg" alt="TanKhun">
    </div>
    <div class="profile-details">
      <h2><a href="TanKhun.html" style="color: #1565c0; text-decoration: none;">นายวัชรวิทย์ แก้วคาม (TanKhun)</a></h2>
      <p>ชื่อเล่น แทนคุณ อายุ 13 ปี<br>โรงเรียนหนองบัววิทยาคาร<br>... (ฯลฯ)</p>
    </div>
  </div></center>

  <center><div class="main-container">
    <div class="profile-pic">
      <img src="images/FB_IMG_1719938454308.jpg" alt="Poongod">
    </div>
    <div class="profile-details">
      <h2><a href="Poongod.html" style="color: #1565c0; text-decoration: none;">นายอิรชา ขุนอินทร์ (Poongod)</a></h2>
      <p>ชื่อเล่น ปุณ อายุ 17 ปี<br>โรงเรียนเตรียมบัณฑิต<br>... (ฯลฯ)</p>
    </div>
  </div></center>

  <script>
    const user = localStorage.getItem("loginUser");
    const profileIcon = document.getElementById("profileIcon");
    const profileMenu = document.getElementById("profileMenu");

    if (user) {
      const storedImage = localStorage.getItem("profileImage");
      if (storedImage) {
        profileIcon.src = storedImage;
      }

      profileIcon.style.display = "inline";
      document.getElementById("loginBtn").style.display = "none";

      profileIcon.onclick = () => {
        profileMenu.style.display = profileMenu.style.display === "block" ? "none" : "block";
      };

      document.getElementById("logout").onclick = () => {
        localStorage.removeItem("loginUser");
        localStorage.removeItem("profileImage");
        location.reload();
      };

      document.getElementById("showProfile").onclick = () => {
        alert("เข้าสู่ระบบในชื่อ: " + user);
      };

      // ฟังก์ชันอัปโหลดรูปโปรไฟล์
      document.getElementById("uploadPicBtn").onclick = () => {
        document.getElementById("uploadInput").click();
      };

      document.getElementById("uploadInput").addEventListener("change", function(event) {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function(e) {
            const imageDataUrl = e.target.result;
            profileIcon.src = imageDataUrl;
            localStorage.setItem("profileImage", imageDataUrl);
          };
          reader.readAsDataURL(file);
        }
      });
    }
  </script>

</body>
</html>
